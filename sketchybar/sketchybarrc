#!/bin/bash

# SketchyBar Configuration - Modular Setup
# Colors and styles are defined in colors.sh
# Widget definitions are in items/
# Widget logic is in plugins/

# Source color configuration
source "$HOME/.config/sketchybar/colors.sh"

# Bar appearance
sketchybar --bar position=top \
                 height=32 \
                 blur_radius=0 \
                 color=$BACKGROUND

# Default item settings
sketchybar --default updates=when_shown \
                     icon.font="$ICON_FONT" \
                     icon.color=$FOREGROUND \
                     label.font="$LABEL_FONT" \
                     label.color=$FOREGROUND \
                     padding_left=10 \
                     padding_right=10 \
                     background.corner_radius=5

##### Left Side Items #####

# Yabai workspace indicators
source "$HOME/.config/sketchybar/items/spaces.sh"

##### Right Side Items #####
# Order: Clock | Battery/Volume | WiFi | CPU/Memory

# Time (always visible, most referenced)
source "$HOME/.config/sketchybar/items/clock.sh"

# Separator
bash "$HOME/.config/sketchybar/items/separator.sh" "sep1"

# System status
source "$HOME/.config/sketchybar/items/battery.sh"
source "$HOME/.config/sketchybar/items/volume.sh"

# Separator
bash "$HOME/.config/sketchybar/items/separator.sh" "sep2"

# Network
source "$HOME/.config/sketchybar/items/wifi.sh"

# Separator
bash "$HOME/.config/sketchybar/items/separator.sh" "sep3"

# System monitoring
source "$HOME/.config/sketchybar/items/cpu.sh"
source "$HOME/.config/sketchybar/items/memory.sh"

# Finalize and update
sketchybar --update

echo "SketchyBar configuration loaded successfully!"
