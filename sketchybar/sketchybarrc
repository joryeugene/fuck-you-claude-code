#!/bin/bash

# Sketchybar configuration for Aerospace integration

# Color palette
BACKGROUND=0xff1e1e2e
FOREGROUND=0xffcdd6f4
BLUE=0xff89b4fa
GREEN=0xffa6e3a1
YELLOW=0xfff9e2af
RED=0xfff38ba8
GRAY=0xff6c7086

# Bar appearance
sketchybar --bar position=top height=32 blur_radius=0 color=$BACKGROUND

# Default item settings
sketchybar --default updates=when_shown \
                     icon.font="Hack Nerd Font:Bold:14.0" \
                     icon.color=$FOREGROUND \
                     label.font="Hack Nerd Font:Bold:12.0" \
                     label.color=$FOREGROUND \
                     padding_left=5 \
                     padding_right=5 \
                     background.corner_radius=5

# Left side - Aerospace workspaces
sketchybar --add event aerospace_workspace_change

for sid in $(aerospace list-workspaces --all); do
    sketchybar --add item space.$sid left \
        --subscribe space.$sid aerospace_workspace_change \
        --set space.$sid \
        background.color=$GRAY \
        background.corner_radius=5 \
        background.height=20 \
        background.drawing=on \
        label="$sid" \
        click_script="aerospace workspace $sid" \
        script="$HOME/.config/sketchybar/plugins/aerospace.sh $sid"
done

# Right side items
# Battery
sketchybar --add item battery right \
           --set battery update_freq=120 \
                        icon= \
                        script="$HOME/.config/sketchybar/plugins/battery.sh"

# Volume
sketchybar --add item volume right \
           --set volume script="$HOME/.config/sketchybar/plugins/volume.sh" \
                       icon=ó°•¾

# Date and time
sketchybar --add item clock right \
           --set clock update_freq=10 \
                      icon= \
                      script="$HOME/.config/sketchybar/plugins/clock.sh"

# Finalize
sketchybar --update

echo "sketchybar configuration loaded.."
